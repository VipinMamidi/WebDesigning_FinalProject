{"ast":null,"code":"var _jsxFileName = \"/Users/vipinmamidi/NEU/2nd SEM/WEB D/FP/Thu/MERN-Ecommerce/MERN-Ecommerce/frontend/src/pages/ProductEditPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Form, Button, Image, FloatingLabel, Row, Col } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { listProductDetails, updateProduct } from '../actions/productActions';\nimport { PRODUCT_UPDATE_RESET } from '../constants/productConstants';\nimport axios from 'axios';\nimport Loader from '../components/Loader';\nimport Message from '../components/Message';\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\nimport FormContainer from '../components/FormContainer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductEditPage = _ref => {\n  _s();\n\n  let {\n    match,\n    history\n  } = _ref;\n  // all variable for stroing product details\n  const productId = match.params.id;\n  const [name, setName] = useState('');\n  const [brand, setBrand] = useState('');\n  const [category, setCategory] = useState('');\n  const [description, setDescription] = useState('');\n  const [image, setImage] = useState('');\n  const [price, setPrice] = useState(0.0);\n  const [countInStock, setCountInStock] = useState(0); // to upload product image\n\n  const [uploading, setUploading] = useState(false);\n  const [errorImageUpload, setErrorImageUpload] = useState('');\n  const dispatch = useDispatch();\n  const productDetails = useSelector(state => state.productDetails);\n  const {\n    loading,\n    product,\n    error\n  } = productDetails;\n  const productUpdate = useSelector(state => state.productUpdate);\n  const {\n    loading: loadingUpdate,\n    success: successUpdate,\n    error: errorUpdate\n  } = productUpdate;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const userDetails = useSelector(state => state.userDetails);\n  const {\n    error: userLoginError\n  } = userDetails; // fetch user login details\n\n  useEffect(() => {\n    userInfo ? userInfo.isSocialLogin ? dispatch(getUserDetails(userInfo.id)) : dispatch(getUserDetails('profile')) : dispatch(getUserDetails('profile'));\n  }, [userInfo, dispatch]); // fetch new access tokens if user details fail, using the refresh token\n\n  useEffect(() => {\n    if (userLoginError && userInfo && !userInfo.isSocialLogin) {\n      const user = JSON.parse(localStorage.getItem('userInfo'));\n      user && dispatch(refreshLogin(user.email));\n    }\n  }, [userLoginError, dispatch, userInfo]);\n  useEffect(() => {\n    dispatch(listProductDetails(productId)); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // update the product details in state\n\n  useEffect(() => {\n    if (successUpdate) {\n      dispatch({\n        type: PRODUCT_UPDATE_RESET\n      });\n      history.push('/admin/productlist');\n    } else {\n      if (!product || product._id !== productId) {\n        dispatch(listProductDetails(productId));\n      } else {\n        setName(product.name);\n        setPrice(product.price);\n        setImage(product.image);\n        setBrand(product.brand);\n        setCategory(product.category);\n        setDescription(product.description);\n        setCountInStock(product.countInStock);\n      }\n    }\n  }, [product, dispatch, productId, history, successUpdate]); // submit the product details\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(updateProduct({\n      _id: productId,\n      name,\n      brand,\n      price,\n      category,\n      description,\n      countInStock,\n      image\n    }));\n  }; // for image input, use a ref\n\n\n  const inputFile = useRef(null); // click the above ref, to handle the overlay div above the product image\n\n  const handleImageClick = () => {\n    inputFile.current.click();\n  }; // submit file to aws bucket, get the url\n\n\n  const handleFileUpload = async e => {\n    const file = e.target.files[0];\n    const formData = new FormData();\n    formData.append('image', file);\n    setUploading(true);\n\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      };\n      const {\n        data\n      } = await axios.post('/api/upload', formData, config);\n      setImage(data);\n      setUploading(false);\n    } catch (error) {\n      setErrorImageUpload('Please choose a valid image');\n      setUploading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/admin/productlist\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-primary\",\n        className: \"mt-3\",\n        children: \"Go Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(FormContainer, {\n      style: {\n        marginTop: '-2em'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Edit Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 5\n      }, this), loadingUpdate ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 6\n      }, this) : errorUpdate ? /*#__PURE__*/_jsxDEV(Message, {\n        dismissible: true,\n        variant: \"danger\",\n        duration: 10,\n        children: errorUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 8\n        }, this) : /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [error && /*#__PURE__*/_jsxDEV(Message, {\n            dismissible: true,\n            variant: \"danger\",\n            duration: 10,\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"name\",\n            children: /*#__PURE__*/_jsxDEV(FloatingLabel, {\n              controlId: \"nameinput\",\n              label: \"Name\",\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"lg\",\n                placeholder: \"Enter Name\",\n                type: \"text\",\n                value: name,\n                onChange: e => setName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"price\",\n            children: /*#__PURE__*/_jsxDEV(FloatingLabel, {\n              controlId: \"priceinput\",\n              label: \"Price\",\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"lg\",\n                placeholder: \"Enter price\",\n                type: \"number\",\n                value: price,\n                min: \"0\",\n                max: \"1000\",\n                step: \"0.1\",\n                onChange: e => setPrice(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 9\n          }, this), errorImageUpload && /*#__PURE__*/_jsxDEV(Message, {\n            dismissible: true,\n            variant: \"danger\",\n            duration: 10,\n            children: errorImageUpload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 10\n          }, this), uploading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Uploading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 10\n          }, this) : /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"image\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 9,\n                children: /*#__PURE__*/_jsxDEV(FloatingLabel, {\n                  controlId: \"imageinput\",\n                  label: \"Image URL\",\n                  className: \"mb-3\",\n                  children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                    size: \"lg\",\n                    placeholder: \"Enter image URL\",\n                    type: \"text\",\n                    value: image,\n                    onChange: e => setImage(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 14\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 3,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  accept: \"image/*\",\n                  type: \"file\",\n                  id: \"file\",\n                  ref: inputFile,\n                  onChange: handleFileUpload,\n                  style: {\n                    display: 'none'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"profile-page-image\",\n                  style: {\n                    alignSelf: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Image, {\n                    src: image,\n                    alt: name,\n                    title: \"Click to input file\",\n                    style: {\n                      width: '100%',\n                      border: '1px solid #ced4da',\n                      marginBottom: '1em',\n                      cursor: 'pointer',\n                      borderRadius: '0.25rem'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 14\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"image-overlay-product\",\n                    onClick: handleImageClick,\n                    children: \"Click to upload image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 14\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 12\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"brand\",\n            children: /*#__PURE__*/_jsxDEV(FloatingLabel, {\n              controlId: \"brandinput\",\n              label: \"Brand\",\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"lg\",\n                placeholder: \"Enter brand\",\n                type: \"text\",\n                value: brand,\n                onChange: e => setBrand(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"category\",\n            children: /*#__PURE__*/_jsxDEV(FloatingLabel, {\n              controlId: \"categoryinput\",\n              label: \"Category\",\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"lg\",\n                placeholder: \"Enter category\",\n                type: \"text\",\n                value: category,\n                onChange: e => setCategory(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"description\",\n            children: /*#__PURE__*/_jsxDEV(FloatingLabel, {\n              controlId: \"descinput\",\n              label: \"Description\",\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"lg\",\n                placeholder: \"Enter description URL\",\n                type: \"text\",\n                value: description,\n                onChange: e => setDescription(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"countInStock\",\n            children: /*#__PURE__*/_jsxDEV(FloatingLabel, {\n              controlId: \"countinstockinput\",\n              label: \"CountInStock\",\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"lg\",\n                placeholder: \"Enter Count In Stock\",\n                type: \"number\",\n                min: \"0\",\n                max: \"1000\",\n                value: countInStock,\n                onChange: e => setCountInStock(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              className: \"my-1 ms-auto\",\n              children: \"Update Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 8\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ProductEditPage, \"JJRLE51IWV8lWIBTNIl1bT2X6VA=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = ProductEditPage;\nexport default ProductEditPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductEditPage\");","map":{"version":3,"sources":["/Users/vipinmamidi/NEU/2nd SEM/WEB D/FP/Thu/MERN-Ecommerce/MERN-Ecommerce/frontend/src/pages/ProductEditPage.js"],"names":["React","useState","useEffect","useRef","useSelector","useDispatch","Form","Button","Image","FloatingLabel","Row","Col","Link","listProductDetails","updateProduct","PRODUCT_UPDATE_RESET","axios","Loader","Message","refreshLogin","getUserDetails","FormContainer","ProductEditPage","match","history","productId","params","id","name","setName","brand","setBrand","category","setCategory","description","setDescription","image","setImage","price","setPrice","countInStock","setCountInStock","uploading","setUploading","errorImageUpload","setErrorImageUpload","dispatch","productDetails","state","loading","product","error","productUpdate","loadingUpdate","success","successUpdate","errorUpdate","userLogin","userInfo","userDetails","userLoginError","isSocialLogin","user","JSON","parse","localStorage","getItem","email","type","push","_id","handleSubmit","e","preventDefault","inputFile","handleImageClick","current","click","handleFileUpload","file","target","files","formData","FormData","append","config","headers","data","post","marginTop","value","display","alignSelf","width","border","marginBottom","cursor","borderRadius"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Form, Button, Image, FloatingLabel, Row, Col } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { listProductDetails, updateProduct } from '../actions/productActions';\r\nimport { PRODUCT_UPDATE_RESET } from '../constants/productConstants';\r\nimport axios from 'axios';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { refreshLogin, getUserDetails } from '../actions/userActions';\r\n\r\nimport FormContainer from '../components/FormContainer';\r\n\r\nconst ProductEditPage = ({ match, history }) => {\r\n\t// all variable for stroing product details\r\n\tconst productId = match.params.id;\r\n\tconst [name, setName] = useState('');\r\n\tconst [brand, setBrand] = useState('');\r\n\tconst [category, setCategory] = useState('');\r\n\tconst [description, setDescription] = useState('');\r\n\tconst [image, setImage] = useState('');\r\n\tconst [price, setPrice] = useState(0.0);\r\n\tconst [countInStock, setCountInStock] = useState(0);\r\n\r\n\t// to upload product image\r\n\tconst [uploading, setUploading] = useState(false);\r\n\tconst [errorImageUpload, setErrorImageUpload] = useState('');\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productDetails = useSelector((state) => state.productDetails);\r\n\tconst { loading, product, error } = productDetails;\r\n\r\n\tconst productUpdate = useSelector((state) => state.productUpdate);\r\n\tconst {\r\n\t\tloading: loadingUpdate,\r\n\t\tsuccess: successUpdate,\r\n\t\terror: errorUpdate,\r\n\t} = productUpdate;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { error: userLoginError } = userDetails;\r\n\r\n\t// fetch user login details\r\n\tuseEffect(() => {\r\n\t\tuserInfo\r\n\t\t\t? userInfo.isSocialLogin\r\n\t\t\t\t? dispatch(getUserDetails(userInfo.id))\r\n\t\t\t\t: dispatch(getUserDetails('profile'))\r\n\t\t\t: dispatch(getUserDetails('profile'));\r\n\t}, [userInfo, dispatch]);\r\n\r\n\t// fetch new access tokens if user details fail, using the refresh token\r\n\tuseEffect(() => {\r\n\t\tif (userLoginError && userInfo && !userInfo.isSocialLogin) {\r\n\t\t\tconst user = JSON.parse(localStorage.getItem('userInfo'));\r\n\t\t\tuser && dispatch(refreshLogin(user.email));\r\n\t\t}\r\n\t}, [userLoginError, dispatch, userInfo]);\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(listProductDetails(productId));\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\t// update the product details in state\r\n\tuseEffect(() => {\r\n\t\tif (successUpdate) {\r\n\t\t\tdispatch({ type: PRODUCT_UPDATE_RESET });\r\n\t\t\thistory.push('/admin/productlist');\r\n\t\t} else {\r\n\t\t\tif (!product || product._id !== productId) {\r\n\t\t\t\tdispatch(listProductDetails(productId));\r\n\t\t\t} else {\r\n\t\t\t\tsetName(product.name);\r\n\t\t\t\tsetPrice(product.price);\r\n\t\t\t\tsetImage(product.image);\r\n\t\t\t\tsetBrand(product.brand);\r\n\t\t\t\tsetCategory(product.category);\r\n\t\t\t\tsetDescription(product.description);\r\n\t\t\t\tsetCountInStock(product.countInStock);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [product, dispatch, productId, history, successUpdate]);\r\n\r\n\t// submit the product details\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(\r\n\t\t\tupdateProduct({\r\n\t\t\t\t_id: productId,\r\n\t\t\t\tname,\r\n\t\t\t\tbrand,\r\n\t\t\t\tprice,\r\n\t\t\t\tcategory,\r\n\t\t\t\tdescription,\r\n\t\t\t\tcountInStock,\r\n\t\t\t\timage,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\t// for image input, use a ref\r\n\tconst inputFile = useRef(null);\r\n\r\n\t// click the above ref, to handle the overlay div above the product image\r\n\tconst handleImageClick = () => {\r\n\t\tinputFile.current.click();\r\n\t};\r\n\r\n\t// submit file to aws bucket, get the url\r\n\tconst handleFileUpload = async (e) => {\r\n\t\tconst file = e.target.files[0];\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('image', file);\r\n\t\tsetUploading(true);\r\n\t\ttry {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.post('/api/upload', formData, config);\r\n\t\t\tsetImage(data);\r\n\t\t\tsetUploading(false);\r\n\t\t} catch (error) {\r\n\t\t\tsetErrorImageUpload('Please choose a valid image');\r\n\t\t\tsetUploading(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link to='/admin/productlist'>\r\n\t\t\t\t<Button variant='outline-primary' className='mt-3'>\r\n\t\t\t\t\tGo Back\r\n\t\t\t\t</Button>\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer style={{ marginTop: '-2em' }}>\r\n\t\t\t\t<h1>Edit Product</h1>\r\n\t\t\t\t{loadingUpdate ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : errorUpdate ? (\r\n\t\t\t\t\t<Message dismissible variant='danger' duration={10}>\r\n\t\t\t\t\t\t{errorUpdate}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t\t\t\t<Message\r\n\t\t\t\t\t\t\t\t\t\tdismissible\r\n\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\tduration={10}>\r\n\t\t\t\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='nameinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Name'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Name'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetName(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='price'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='priceinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Price'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter price'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={price}\r\n\t\t\t\t\t\t\t\t\t\t\tmin='0'\r\n\t\t\t\t\t\t\t\t\t\t\tmax='1000'\r\n\t\t\t\t\t\t\t\t\t\t\tstep='0.1'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetPrice(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t{errorImageUpload && (\r\n\t\t\t\t\t\t\t\t\t<Message\r\n\t\t\t\t\t\t\t\t\t\tdismissible\r\n\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\tduration={10}>\r\n\t\t\t\t\t\t\t\t\t\t{errorImageUpload}\r\n\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{uploading ? (\r\n\t\t\t\t\t\t\t\t\t<div>Uploading...</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Form.Group controlId='image'>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col md={9}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrolId='imageinput'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel='Image URL'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter image URL'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetImage(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taccept='image/*'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='file'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={inputFile}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFileUpload}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='profile-page-image'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talignSelf: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle='Click to input file'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder: '1px solid #ced4da',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginBottom: '1em',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'0.25rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='image-overlay-product'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleImageClick\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tClick to upload image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='brand'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='brandinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Brand'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter brand'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={brand}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetBrand(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='category'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='categoryinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Category'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter category'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={category}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetCategory(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='description'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='descinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='Description'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter description URL'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDescription(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group controlId='countInStock'>\r\n\t\t\t\t\t\t\t\t\t<FloatingLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrolId='countinstockinput'\r\n\t\t\t\t\t\t\t\t\t\tlabel='CountInStock'\r\n\t\t\t\t\t\t\t\t\t\tclassName='mb-3'>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tsize='lg'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Enter Count In Stock'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\t\tmin='0'\r\n\t\t\t\t\t\t\t\t\t\t\tmax='1000'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={countInStock}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetCountInStock(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FloatingLabel>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\tclassName='my-1 ms-auto'>\r\n\t\t\t\t\t\t\t\t\t\tUpdate Product\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductEditPage;\r\n"]},"metadata":{},"sourceType":"module"}