{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Urvi\\\\Documents\\\\INFO6150\\\\MERN-Ecommerce\\\\MERN-Ecommerce\\\\frontend\\\\src\\\\components\\\\Header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Navbar, Nav, Container, NavDropdown } from 'react-bootstrap';\nimport { logoutUser } from '../actions/userActions';\nimport { Route } from 'react-router-dom';\nimport SearchBox from './SearchBox';\nimport '../styles/header.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Header = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const userLogin = useSelector(state => state.userLogin);\n  const cart = useSelector(state => state.cart);\n  const {\n    userInfo\n  } = userLogin;\n  const {\n    cartItems\n  } = cart;\n  const [show1, setShow1] = useState(false); // to close dropdown when clicking anywhere outside\n\n  const [show2, setShow2] = useState(false); // to close dropdown when clicking anywhere outside\n\n  const [count, setCount] = useState(0); // update count when new cart changes\n\n  useEffect(() => {\n    setCount(cartItems.reduce((acc, item) => acc + item.qty, 0));\n  }, [cartItems]); // close the second dropdown when it is open and user clicks anywhere else\n\n  const handleDropdown2 = e => {\n    if (show2) {\n      setShow2(false);\n    } else {\n      setShow2(true);\n      setShow1(false);\n    }\n  }; // close the first dropdown when it is open and user clicks anywhere else\n\n\n  const handleDropdown1 = e => {\n    if (show1) {\n      setShow1(false);\n    } else {\n      setShow1(true);\n      setShow2(false);\n    }\n  }; // dispatch action to logout user\n\n\n  const handleLogout = () => {\n    dispatch(logoutUser());\n    window.location.href = '/';\n  }; // render different navbars for large and small screens without navbar toggle\n\n\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"navbar-dropdown-cover\",\n      style: {\n        display: window.innerHeight > 430 && (show1 || show2) ? 'block' : 'none',\n        minWidth: '100%',\n        height: '100%',\n        zIndex: '100',\n        position: 'absolute'\n      },\n      onClick: () => {\n        setShow1(false);\n        setShow2(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Navbar, {\n      bg: \"primary\",\n      variant: \"dark\",\n      expand: \"lg\",\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Navbar.Brand, {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/images/kosells.png\",\n              className: \"nav-logo\",\n              alt: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 8\n            }, this), \"Kosells\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          render: ({\n            history\n          }) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-none d-md-block\",\n            children: /*#__PURE__*/_jsxDEV(SearchBox, {\n              history: history\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Nav, {\n          className: \"ms-auto nav-mobile\",\n          style: userInfo ? {\n            justifyContent: 'space-between'\n          } : {\n            justifyContent: 'space-evenly'\n          },\n          children: [userInfo && userInfo.isAdmin && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n              className: \"d-block d-md-none\",\n              to: \"/admin/userlist\",\n              children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-users\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n              className: \"d-block d-md-none\",\n              to: \"/admin/orderlist\",\n              children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-user-shield\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n              className: \"d-block d-md-none\",\n              to: \"/admin/productlist\",\n              children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-shopping-bag\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(LinkContainer, {\n            to: \"/cart\",\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              children: [count ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"nav-cart-size\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: count > 10 ? {\n                    fontSize: '0.6em'\n                  } : {\n                    fontSize: '0.7em'\n                  },\n                  children: count\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 10\n              }, this) : '', /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-shopping-cart navbar-icons\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 9\n              }, this), ' ', !(userInfo && userInfo.isAdmin) || window.innerWidth >= 430 ? 'Cart' : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 7\n          }, this), userInfo && userInfo.isAdmin &&\n          /*#__PURE__*/\n          // show this only on md screens and above\n          _jsxDEV(NavDropdown, {\n            className: \"d-none d-md-block\",\n            title: \"Admin\",\n            id: \"adminMenu\",\n            show: show2,\n            onClick: handleDropdown2,\n            children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/admin/userlist\",\n              children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                children: \"Users\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/admin/productlist\",\n              children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                children: \"Products\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/admin/orderlist\",\n              children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                children: \"Orders\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 8\n          }, this), userInfo &&\n          /*#__PURE__*/\n          // show this only on mobile screens\n          _jsxDEV(Nav.Link, {\n            className: \"d-block d-md-none\",\n            onClick: handleLogout,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-sign-out-alt navbar-icons\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 9\n            }, this), ' ', !(userInfo && userInfo.isAdmin) && 'Logout']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 8\n          }, this), userInfo ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"nav-avatar-container\",\n            children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: \"/profile\",\n              className: \"d-block d-md-none\",\n              children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: userInfo.avatar,\n                  className: \"nav-avatar\",\n                  alt: userInfo.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: userInfo.avatar,\n              className: \"nav-avatar d-none d-md-block\",\n              alt: userInfo.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(NavDropdown, {\n              className: \"d-none d-md-block\",\n              title: userInfo.name,\n              id: userInfo.id,\n              show: show1,\n              onClick: handleDropdown1,\n              children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n                to: \"/profile\",\n                children: /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                  children: \"Profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n                onClick: handleLogout,\n                children: \"Logout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(LinkContainer, {\n            to: \"/login\",\n            variant: \"primary\",\n            children: /*#__PURE__*/_jsxDEV(Nav.Link, {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-user navbar-icons\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 10\n              }, this), ' ', \"Sign In\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Header, \"MYR9pSS47OqoNVsgl55/lc0Bq2I=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["C:/Users/Urvi/Documents/INFO6150/MERN-Ecommerce/MERN-Ecommerce/frontend/src/components/Header.js"],"names":["React","useState","useEffect","LinkContainer","useDispatch","useSelector","Navbar","Nav","Container","NavDropdown","logoutUser","Route","SearchBox","Header","dispatch","userLogin","state","cart","userInfo","cartItems","show1","setShow1","show2","setShow2","count","setCount","reduce","acc","item","qty","handleDropdown2","e","handleDropdown1","handleLogout","window","location","href","display","innerHeight","minWidth","height","zIndex","position","history","justifyContent","isAdmin","fontSize","innerWidth","avatar","name","id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,MAAT,EAAiBC,GAAjB,EAAsBC,SAAtB,EAAiCC,WAAjC,QAAoD,iBAApD;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAO,sBAAP;;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AACpB,QAAMC,QAAQ,GAAGV,WAAW,EAA5B;AACA,QAAMW,SAAS,GAAGV,WAAW,CAAEW,KAAD,IAAWA,KAAK,CAACD,SAAlB,CAA7B;AACA,QAAME,IAAI,GAAGZ,WAAW,CAAEW,KAAD,IAAWA,KAAK,CAACC,IAAlB,CAAxB;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAeH,SAArB;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAgBF,IAAtB;AAEA,QAAM,CAACG,KAAD,EAAQC,QAAR,IAAoBpB,QAAQ,CAAC,KAAD,CAAlC,CAPoB,CAOuB;;AAC3C,QAAM,CAACqB,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAC,KAAD,CAAlC,CARoB,CAQuB;;AAC3C,QAAM,CAACuB,KAAD,EAAQC,QAAR,IAAoBxB,QAAQ,CAAC,CAAD,CAAlC,CAToB,CAWpB;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACfuB,IAAAA,QAAQ,CAACN,SAAS,CAACO,MAAV,CAAiB,CAACC,GAAD,EAAMC,IAAN,KAAeD,GAAG,GAAGC,IAAI,CAACC,GAA3C,EAAgD,CAAhD,CAAD,CAAR;AACA,GAFQ,EAEN,CAACV,SAAD,CAFM,CAAT,CAZoB,CAgBpB;;AACA,QAAMW,eAAe,GAAIC,CAAD,IAAO;AAC9B,QAAIT,KAAJ,EAAW;AACVC,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACA,KAFD,MAEO;AACNA,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACAF,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACA;AACD,GAPD,CAjBoB,CA0BpB;;;AACA,QAAMW,eAAe,GAAID,CAAD,IAAO;AAC9B,QAAIX,KAAJ,EAAW;AACVC,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACA,KAFD,MAEO;AACNA,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACAE,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACA;AACD,GAPD,CA3BoB,CAoCpB;;;AACA,QAAMU,YAAY,GAAG,MAAM;AAC1BnB,IAAAA,QAAQ,CAACJ,UAAU,EAAX,CAAR;AACAwB,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACA,GAHD,CArCoB,CA0CpB;;;AACA,sBACC;AAAA,4BAEC;AACC,MAAA,SAAS,EAAC,uBADX;AAEC,MAAA,KAAK,EAAE;AACNC,QAAAA,OAAO,EACNH,MAAM,CAACI,WAAP,GAAqB,GAArB,KAA6BlB,KAAK,IAAIE,KAAtC,IACG,OADH,GAEG,MAJE;AAKNiB,QAAAA,QAAQ,EAAE,MALJ;AAMNC,QAAAA,MAAM,EAAE,MANF;AAONC,QAAAA,MAAM,EAAE,KAPF;AAQNC,QAAAA,QAAQ,EAAE;AARJ,OAFR;AAYC,MAAA,OAAO,EAAE,MAAM;AACdrB,QAAAA,QAAQ,CAAC,KAAD,CAAR;AACAE,QAAAA,QAAQ,CAAC,KAAD,CAAR;AACA;AAfF;AAAA;AAAA;AAAA;AAAA,YAFD,eAqBC,QAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,SAAX;AAAqB,MAAA,OAAO,EAAC,MAA7B;AAAoC,MAAA,MAAM,EAAC,IAA3C;AAAA,6BACC,QAAC,SAAD;AAAA,gCACC,QAAC,aAAD;AAAe,UAAA,EAAE,EAAC,GAAlB;AAAA,iCACC,QAAC,MAAD,CAAQ,KAAR;AAAA,oCACC;AACC,cAAA,GAAG,EAAC,qBADL;AAEC,cAAA,SAAS,EAAC,UAFX;AAGC,cAAA,GAAG,EAAC;AAHL;AAAA;AAAA;AAAA;AAAA,oBADD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBADD,eAcC,QAAC,KAAD;AACC,UAAA,MAAM,EAAE,CAAC;AAAEoB,YAAAA;AAAF,WAAD,kBACP;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,mCACC,QAAC,SAAD;AAAW,cAAA,OAAO,EAAEA;AAApB;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,gBAdD,eAsBC,QAAC,GAAD;AACC,UAAA,SAAS,EAAC,oBADX;AAEC,UAAA,KAAK,EACJzB,QAAQ,GACL;AACA0B,YAAAA,cAAc,EAAE;AADhB,WADK,GAIL;AACAA,YAAAA,cAAc,EAAE;AADhB,WAPL;AAAA,qBAWE1B,QAAQ,IAAIA,QAAQ,CAAC2B,OAArB,iBACA;AAAA,oCAEC,QAAC,aAAD;AACC,cAAA,SAAS,EAAC,mBADX;AAEC,cAAA,EAAE,EAAC,iBAFJ;AAAA,qCAGC,QAAC,GAAD,CAAK,IAAL;AAAA,uCACC;AAAG,kBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAHD;AAAA;AAAA;AAAA;AAAA,oBAFD,eASC,QAAC,aAAD;AACC,cAAA,SAAS,EAAC,mBADX;AAEC,cAAA,EAAE,EAAC,kBAFJ;AAAA,qCAGC,QAAC,GAAD,CAAK,IAAL;AAAA,uCACC;AAAG,kBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAHD;AAAA;AAAA;AAAA;AAAA,oBATD,eAgBC,QAAC,aAAD;AACC,cAAA,SAAS,EAAC,mBADX;AAEC,cAAA,EAAE,EAAC,oBAFJ;AAAA,qCAGC,QAAC,GAAD,CAAK,IAAL;AAAA,uCACC;AAAG,kBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAHD;AAAA;AAAA;AAAA;AAAA,oBAhBD;AAAA,0BAZF,eAqCC,QAAC,aAAD;AAAe,YAAA,EAAE,EAAC,OAAlB;AAAA,mCACC,QAAC,GAAD,CAAK,IAAL;AAAA,yBAEErB,KAAK,gBACL;AAAK,gBAAA,SAAS,EAAC,eAAf;AAAA,uCACC;AACC,kBAAA,KAAK,EACJA,KAAK,GAAG,EAAR,GACG;AAAEsB,oBAAAA,QAAQ,EAAE;AAAZ,mBADH,GAEG;AAAEA,oBAAAA,QAAQ,EAAE;AAAZ,mBAJL;AAAA,4BAMEtB;AANF;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBADK,GAYL,EAdF,eAgBC;AAAG,gBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,sBAhBD,EAgBqD,GAhBrD,EAiBE,EAAEN,QAAQ,IAAIA,QAAQ,CAAC2B,OAAvB,KACDX,MAAM,CAACa,UAAP,IAAqB,GADpB,GAEE,MAFF,GAGE,EApBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBArCD,EA6DE7B,QAAQ,IAAIA,QAAQ,CAAC2B,OAArB;AAAA;AACA;AACA,kBAAC,WAAD;AACC,YAAA,SAAS,EAAC,mBADX;AAEC,YAAA,KAAK,EAAC,OAFP;AAGC,YAAA,EAAE,EAAC,WAHJ;AAIC,YAAA,IAAI,EAAEvB,KAJP;AAKC,YAAA,OAAO,EAAEQ,eALV;AAAA,oCAMC,QAAC,aAAD;AAAe,cAAA,EAAE,EAAC,iBAAlB;AAAA,qCACC,QAAC,WAAD,CAAa,IAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,oBAND,eASC,QAAC,aAAD;AAAe,cAAA,EAAE,EAAC,oBAAlB;AAAA,qCACC,QAAC,WAAD,CAAa,IAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,oBATD,eAcC,QAAC,aAAD;AAAe,cAAA,EAAE,EAAC,kBAAlB;AAAA,qCACC,QAAC,WAAD,CAAa,IAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,oBAdD;AAAA;AAAA;AAAA;AAAA;AAAA,kBA/DF,EAmFEZ,QAAQ;AAAA;AACR;AACA,kBAAC,GAAD,CAAK,IAAL;AACC,YAAA,SAAS,EAAC,mBADX;AAEC,YAAA,OAAO,EAAEe,YAFV;AAAA,oCAGC;AAAG,cAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,oBAHD,EAGoD,GAHpD,EAIE,EAAEf,QAAQ,IAAIA,QAAQ,CAAC2B,OAAvB,KAAmC,QAJrC;AAAA;AAAA;AAAA;AAAA;AAAA,kBArFF,EA6FE3B,QAAQ,gBACR;AAAK,YAAA,SAAS,EAAC,sBAAf;AAAA,oCAEC,QAAC,aAAD;AACC,cAAA,EAAE,EAAC,UADJ;AAEC,cAAA,SAAS,EAAC,mBAFX;AAAA,qCAGC,QAAC,GAAD,CAAK,IAAL;AAAA,uCACC;AACC,kBAAA,GAAG,EAAEA,QAAQ,CAAC8B,MADf;AAEC,kBAAA,SAAS,EAAC,YAFX;AAGC,kBAAA,GAAG,EAAE9B,QAAQ,CAAC+B;AAHf;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAHD;AAAA;AAAA;AAAA;AAAA,oBAFD,eAaC;AACC,cAAA,GAAG,EAAE/B,QAAQ,CAAC8B,MADf;AAEC,cAAA,SAAS,EAAC,8BAFX;AAGC,cAAA,GAAG,EAAE9B,QAAQ,CAAC+B;AAHf;AAAA;AAAA;AAAA;AAAA,oBAbD,eAoBC,QAAC,WAAD;AACC,cAAA,SAAS,EAAC,mBADX;AAEC,cAAA,KAAK,EAAE/B,QAAQ,CAAC+B,IAFjB;AAGC,cAAA,EAAE,EAAE/B,QAAQ,CAACgC,EAHd;AAIC,cAAA,IAAI,EAAE9B,KAJP;AAKC,cAAA,OAAO,EAAEY,eALV;AAAA,sCAMC,QAAC,aAAD;AAAe,gBAAA,EAAE,EAAC,UAAlB;AAAA,uCACC,QAAC,WAAD,CAAa,IAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBAND,eAWC,QAAC,WAAD,CAAa,IAAb;AAAkB,gBAAA,OAAO,EAAEC,YAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAXD;AAAA;AAAA;AAAA;AAAA;AAAA,oBApBD;AAAA;AAAA;AAAA;AAAA;AAAA,kBADQ,gBAsCR,QAAC,aAAD;AAAe,YAAA,EAAE,EAAC,QAAlB;AAA2B,YAAA,OAAO,EAAC,SAAnC;AAAA,mCACC,QAAC,GAAD,CAAK,IAAL;AAAA,sCACC;AAAG,gBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,sBADD,EAC4C,GAD5C;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBAnIF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtBD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YArBD;AAAA;AAAA;AAAA;AAAA;AAAA,UADD;AA4LA,CAvOD;;GAAMpB,M;UACYT,W,EACCC,W,EACLA,W;;;KAHRQ,M;AAyON,eAAeA,MAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Navbar, Nav, Container, NavDropdown } from 'react-bootstrap';\r\nimport { logoutUser } from '../actions/userActions';\r\nimport { Route } from 'react-router-dom';\r\nimport SearchBox from './SearchBox';\r\nimport '../styles/header.css';\r\n\r\nconst Header = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { userInfo } = userLogin;\r\n\tconst { cartItems } = cart;\r\n\r\n\tconst [show1, setShow1] = useState(false); // to close dropdown when clicking anywhere outside\r\n\tconst [show2, setShow2] = useState(false); // to close dropdown when clicking anywhere outside\r\n\tconst [count, setCount] = useState(0);\r\n\r\n\t// update count when new cart changes\r\n\tuseEffect(() => {\r\n\t\tsetCount(cartItems.reduce((acc, item) => acc + item.qty, 0));\r\n\t}, [cartItems]);\r\n\r\n\t// close the second dropdown when it is open and user clicks anywhere else\r\n\tconst handleDropdown2 = (e) => {\r\n\t\tif (show2) {\r\n\t\t\tsetShow2(false);\r\n\t\t} else {\r\n\t\t\tsetShow2(true);\r\n\t\t\tsetShow1(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// close the first dropdown when it is open and user clicks anywhere else\r\n\tconst handleDropdown1 = (e) => {\r\n\t\tif (show1) {\r\n\t\t\tsetShow1(false);\r\n\t\t} else {\r\n\t\t\tsetShow1(true);\r\n\t\t\tsetShow2(false);\r\n\t\t}\r\n\t};\r\n\r\n\t// dispatch action to logout user\r\n\tconst handleLogout = () => {\r\n\t\tdispatch(logoutUser());\r\n\t\twindow.location.href = '/';\r\n\t};\r\n\r\n\t// render different navbars for large and small screens without navbar toggle\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t{/* this section covers entire screen except the dropdown, to handle onclicks */}\r\n\t\t\t<section\r\n\t\t\t\tclassName='navbar-dropdown-cover'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay:\r\n\t\t\t\t\t\twindow.innerHeight > 430 && (show1 || show2)\r\n\t\t\t\t\t\t\t? 'block'\r\n\t\t\t\t\t\t\t: 'none',\r\n\t\t\t\t\tminWidth: '100%',\r\n\t\t\t\t\theight: '100%',\r\n\t\t\t\t\tzIndex: '100',\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetShow1(false);\r\n\t\t\t\t\tsetShow2(false);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t{/* conditionally render different navbars for the mobile sreens */}\r\n\t\t\t<Navbar bg='primary' variant='dark' expand='lg'>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<LinkContainer to='/'>\r\n\t\t\t\t\t\t<Navbar.Brand>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc='/images/kosells.png'\r\n\t\t\t\t\t\t\t\tclassName='nav-logo'\r\n\t\t\t\t\t\t\t\talt='logo'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\tKosells\r\n\t\t\t\t\t\t</Navbar.Brand>\r\n\t\t\t\t\t</LinkContainer>\r\n\r\n\t\t\t\t\t{/* history is available only inside Route, so this is used */}\r\n\t\t\t\t\t{/* display searchbar inside navbar in large screens only */}\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\trender={({ history }) => (\r\n\t\t\t\t\t\t\t<div className='d-none d-md-block'>\r\n\t\t\t\t\t\t\t\t<SearchBox history={history} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Nav\r\n\t\t\t\t\t\tclassName='ms-auto nav-mobile'\r\n\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\tuserInfo\r\n\t\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-between',\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t: {\r\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-evenly',\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t{userInfo && userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{/* display this only on mobile screens */}\r\n\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\tclassName='d-block d-md-none'\r\n\t\t\t\t\t\t\t\t\tto='/admin/userlist'>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-users' />\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\tclassName='d-block d-md-none'\r\n\t\t\t\t\t\t\t\t\tto='/admin/orderlist'>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-user-shield' />\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\tclassName='d-block d-md-none'\r\n\t\t\t\t\t\t\t\t\tto='/admin/productlist'>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-shopping-bag' />\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<LinkContainer to='/cart'>\r\n\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t{/* indicate cart size */}\r\n\t\t\t\t\t\t\t\t{count ? (\r\n\t\t\t\t\t\t\t\t\t<div className='nav-cart-size'>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\tcount > 10\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? { fontSize: '0.6em' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: { fontSize: '0.7em' }\r\n\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t{count}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<i className='fas fa-shopping-cart navbar-icons' />{' '}\r\n\t\t\t\t\t\t\t\t{!(userInfo && userInfo.isAdmin) ||\r\n\t\t\t\t\t\t\t\twindow.innerWidth >= 430\r\n\t\t\t\t\t\t\t\t\t? 'Cart'\r\n\t\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t{userInfo && userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t// show this only on md screens and above\r\n\t\t\t\t\t\t\t<NavDropdown\r\n\t\t\t\t\t\t\t\tclassName='d-none d-md-block'\r\n\t\t\t\t\t\t\t\ttitle='Admin'\r\n\t\t\t\t\t\t\t\tid='adminMenu'\r\n\t\t\t\t\t\t\t\tshow={show2}\r\n\t\t\t\t\t\t\t\tonClick={handleDropdown2}>\r\n\t\t\t\t\t\t\t\t<LinkContainer to='/admin/userlist'>\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Users</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t<LinkContainer to='/admin/productlist'>\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\tProducts\r\n\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t<LinkContainer to='/admin/orderlist'>\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Orders</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{userInfo && (\r\n\t\t\t\t\t\t\t// show this only on mobile screens\r\n\t\t\t\t\t\t\t<Nav.Link\r\n\t\t\t\t\t\t\t\tclassName='d-block d-md-none'\r\n\t\t\t\t\t\t\t\tonClick={handleLogout}>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-sign-out-alt navbar-icons' />{' '}\r\n\t\t\t\t\t\t\t\t{!(userInfo && userInfo.isAdmin) && 'Logout'}\r\n\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t<div className='nav-avatar-container'>\r\n\t\t\t\t\t\t\t\t{/* show this container only on mobile screens */}\r\n\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\tto='/profile'\r\n\t\t\t\t\t\t\t\t\tclassName='d-block d-md-none'>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={userInfo.avatar}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='nav-avatar'\r\n\t\t\t\t\t\t\t\t\t\t\talt={userInfo.name}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={userInfo.avatar}\r\n\t\t\t\t\t\t\t\t\tclassName='nav-avatar d-none d-md-block'\r\n\t\t\t\t\t\t\t\t\talt={userInfo.name}\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t{/* show this dropdown only on large screens */}\r\n\t\t\t\t\t\t\t\t<NavDropdown\r\n\t\t\t\t\t\t\t\t\tclassName='d-none d-md-block'\r\n\t\t\t\t\t\t\t\t\ttitle={userInfo.name}\r\n\t\t\t\t\t\t\t\t\tid={userInfo.id}\r\n\t\t\t\t\t\t\t\t\tshow={show1}\r\n\t\t\t\t\t\t\t\t\tonClick={handleDropdown1}>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/profile'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t\t\tProfile\r\n\t\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={handleLogout}>\r\n\t\t\t\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<LinkContainer to='/login' variant='primary'>\r\n\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-user navbar-icons' />{' '}\r\n\t\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Nav>\r\n\t\t\t\t</Container>\r\n\t\t\t</Navbar>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}